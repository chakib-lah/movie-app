<form [formGroup]="form" (ngSubmit)="onSubmit()" class="movie-form">
    <div class="form-grid">
      <!-- Title -->
      <mat-form-field appearance="outline">
        <mat-label>Title</mat-label>
        <input matInput formControlName="title" />
        @if (form.controls.title.touched && form.controls.title.invalid) {
          <mat-error>{{ getErrorMessage('title') }}</mat-error>
        }
      </mat-form-field>
  
      <!-- Director -->
      <mat-form-field appearance="outline">
        <mat-label>Director</mat-label>
        <input matInput formControlName="director" />
        @if (form.controls.director.touched && form.controls.director.invalid) {
          <mat-error>{{ getErrorMessage('director') }}</mat-error>
        }
      </mat-form-field>
  
      <!-- Year -->
      <mat-form-field appearance="outline">
        <mat-label>Year</mat-label>
        <input matInput type="number" formControlName="year" />
        @if (form.controls.year.touched && form.controls.year.invalid) {
          <mat-error>{{ getErrorMessage('year') }}</mat-error>
        }
      </mat-form-field>
    </div>
  
    @if (errorMessage()) {
      <p class="error-message">{{ errorMessage() }}</p>
    }
  
    <div class="button-group">
      <button mat-stroked-button color="primary" type="button" (click)="onReset()">
        Reset
      </button>
  
      <button mat-button color="warn" type="button" (click)="onCancel()">
        Cancel
      </button>
  
      <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid || isLoading()">
        {{ isLoading() ? "Saving..." : submitLabel() }}
      </button>
    </div>
  </form>
  